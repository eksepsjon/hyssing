(function(t){function a(a){for(var r,s,i=a[0],u=a[1],f=a[2],c=0,d=[];c<i.length;c++)s=i[c],n[s]&&d.push(n[s][0]),n[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);l&&l(a);while(d.length)d.shift()();return o.push.apply(o,f||[]),e()}function e(){for(var t,a=0;a<o.length;a++){for(var e=o[a],r=!0,i=1;i<e.length;i++){var u=e[i];0!==n[u]&&(r=!1)}r&&(o.splice(a--,1),t=s(s.s=e[0]))}return t}var r={},n={app:0},o=[];function s(a){if(r[a])return r[a].exports;var e=r[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=r,s.d=function(t,a,e){s.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,a){if(1&a&&(t=s(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var r in t)s.d(e,r,function(a){return t[a]}.bind(null,r));return e},s.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(a,"a",a),a},s.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},s.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=a,i=i.slice();for(var f=0;f<i.length;f++)a(i[f]);var l=u;o.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"034f":function(t,a,e){"use strict";var r=e("64a9"),n=e.n(r);n.a},"0372":function(t,a,e){},"1abe":function(t,a,e){"use strict";var r=e("dbc3"),n=e.n(r);n.a},"4a19":function(t,a,e){},"56d7":function(t,a,e){"use strict";e.r(a);e("cadf"),e("551c"),e("097d");var r=e("2b0e"),n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[t.dataOk?e("ProcessData",{attrs:{sourceData:t.sourceData}}):e("DataEntry",{on:{data:t.dataReady}})],1)},o=[],s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"get-data"},[e("textarea",{attrs:{placeholder:"Paste some data here!"},on:{paste:t.dataPasted}})])},i=[],u={name:"DataEntry",data:function(){return{}},methods:{dataPasted:function(t){this.$emit("data",t.clipboardData.getData("text"))}}},f=u,l=(e("a61f"),e("2877")),c=Object(l["a"])(f,s,i,!1,null,"06071506",null);c.options.__file="DataEntry.vue";var d=c.exports,p=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"process-data"},[e("DataView",{staticClass:"data-view",attrs:{id:"previous-data",data:t.dataBox.beforeData}}),e("DataView",{staticClass:"data-view",attrs:{id:"preview-data",data:t.dataBox.afterData}}),e("TransformEntry",{attrs:{id:"transform-entry",validationResult:t.validationResult},on:{update:t.transformUpdate,save:t.transformSave}})],1)},v=[],m=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"coluxmns"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.transform,expression:"transform"}],staticClass:"coluxmn",attrs:{type:"text",placeholder:"Enter transform command"},domProps:{value:t.transform},on:{keyup:function(a){return"button"in a||!t._k(a.keyCode,"enter",13,a.key,"Enter")?t.saveTransform(a):null},input:function(a){a.target.composing||(t.transform=a.target.value)}}}),e("div",{staticClass:"colxumn"},[t._v(t._s(t.validationResult?t.validationResult.text:""))])])])},h=[],b={name:"TransformEntry",props:["validationResult"],data:function(){return{transform:""}},methods:{saveTransform:function(){this.validationResult.ok&&(this.$emit("save",this.transform),this.transform="")}},watch:{transform:function(){this.$emit("update",this.transform)}}},D=b,y=(e("6eb6"),Object(l["a"])(D,m,h,!1,null,"0f862ad2",null));y.options.__file="TransformEntry.vue";var w=y.exports,g=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("table",{staticClass:"data-view"},[e("tr",t._l(1+t.localData.columns,function(a){return e("th",{key:a},[t._v(t._s(a>1?a-1:""))])})),t._l(t.localData.rows,function(a,r){return e("tr",{key:r},[e("th",[t._v(t._s(r+1))]),t._l(a,function(a,r){return e("td",{key:r},[e("pre",[t._v(t._s(a))])])})],2)})],2)])},_=[],x={name:"DataView",props:["data"],data:function(){return{localData:this.data}}},k=x,O=(e("f52b"),Object(l["a"])(k,g,_,!1,null,"a0b295ce",null));O.options.__file="DataView.vue";var j=O.exports,E=(e("a481"),e("4917"),e("28a5"),e("3b2b"),e("f559"),e("d4ec")),P=e("bee2"),T=function(){function t(){Object(E["a"])(this,t)}return Object(P["a"])(t,[{key:"createInitialData",value:function(t){return{sourceData:this.sourceData,beforeData:{type:"text",columns:1,rows:[[t]]},afterData:{type:"text",columns:1,rows:[[t]]},transforms:[""]}}},{key:"validateTransformOp",value:function(t,a){return""===a.trim()?{text:"",ok:!0}:a.startsWith("keep lines ")?{text:"",ok:!0}:{text:"hmmm",ok:!1}}},{key:"transform",value:function(t,a){if(""===a.trim()){t.afterData.rows.splice(0,t.afterData.rows.length);for(var e=0;e<t.beforeData.length;e++)t.afterData.rows.push(t.beforeData[e])}else if(a.startsWith("keep lines")){var r=a.substring("keep lines".length,a.length).trim();if(0===r.length)return;r=new RegExp(r,"i");for(var n=[],o=0;o<t.beforeData.rows.length;o++){for(var s=[],i=0;i<t.beforeData.rows[o].length;i++){for(var u=t.beforeData.rows[o][i].split("\n"),f=[],l=0;l<u.length;l++)u[l].match(r)&&f.push(u[l].replace("\r",""));s.push(f.join("\n"))}n.push(s)}t.afterData.rows.splice(0,t.afterData.rows.length);for(var c=0;c<n.length;c++)t.afterData.rows.push(n[c])}}},{key:"preview",value:function(t,a){this.transform(t,a)}},{key:"append",value:function(t,a){console.log("Before",a,JSON.stringify(t.beforeData)),this.transform(t,a),console.log("AFterAftexr",a,JSON.stringify(t.afterData)),t.beforeData.rows.splice(0,t.beforeData.rows.length);for(var e=0;e<t.afterData.rows.length;e++)t.beforeData.rows.push(t.afterData.rows[e]);t.transforms.push(a),this.transform(t,""),console.log("AFtxer",JSON.stringify(t.beforeData)),console.log("AFterAfter",JSON.stringify(t.afterData))}}]),t}(),R=new T,S={name:"ProcessData",components:{TransformEntry:w,DataView:j},props:["sourceData"],data:function(){return{validationResult:null}},computed:{dataBox:function(){return R.createInitialData(this.sourceData)}},methods:{transformUpdate:function(t){this.validationResult=R.validateTransformOp(this.dataBox,t),R.validateTransformOp(this.dataBox,t).ok&&R.preview(this.dataBox,t)},transformSave:function(t){R.validateTransformOp(this.dataBox,t).ok&&R.append(this.dataBox,t)}}},B=S,C=(e("1abe"),Object(l["a"])(B,p,v,!1,null,"8fa47076",null));C.options.__file="ProcessData.vue";var $=C.exports,A={name:"app",components:{DataEntry:d,ProcessData:$},data:function(){return{sourceData:"",dataOk:!1}},methods:{dataReady:function(t){this.sourceData=t,this.dataOk=!0}}},J=A,N=(e("034f"),Object(l["a"])(J,n,o,!1,null,null,null));N.options.__file="App.vue";var V=N.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(V)}}).$mount("#app")},"64a9":function(t,a,e){},"6eb6":function(t,a,e){"use strict";var r=e("4a19"),n=e.n(r);n.a},a61f:function(t,a,e){"use strict";var r=e("0372"),n=e.n(r);n.a},b08a:function(t,a,e){},dbc3:function(t,a,e){},f52b:function(t,a,e){"use strict";var r=e("b08a"),n=e.n(r);n.a}});
//# sourceMappingURL=app.9bc7e5b1.js.map