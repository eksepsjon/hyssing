(function(t){function e(e){for(var r,s,i=e[0],l=e[1],u=e[2],c=0,p=[];c<i.length;c++)s=i[c],n[s]&&p.push(n[s][0]),n[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);f&&f(e);while(p.length)p.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],r=!0,i=1;i<a.length;i++){var l=a[i];0!==n[l]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var r={},n={app:0},o=[];function s(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=r,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var f=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var r=a("64a9"),n=a.n(r);n.a},"0c15":function(t,e,a){"use strict";var r=a("9c80"),n=a.n(r);n.a},1186:function(t,e,a){},"21ad":function(t,e,a){"use strict";var r=a("1186"),n=a.n(r);n.a},3400:function(t,e,a){},"36c0":function(t,e,a){"use strict";var r=a("3400"),n=a.n(r);n.a},"3e05":function(t,e,a){"use strict";var r=a("5bb9"),n=a.n(r);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("ProcessData")],1)},o=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"process-data"},[a("div",{class:{dataentry:!t.dataOk},attrs:{id:"toolbar"}},[t.dataOk?t._e():a("span",[t._v("☕ hyssing ☕")]),t.dataOk?a("TransformEntry",{attrs:{id:"transform-entry",validationResult:t.validationResult},on:{update:t.transformUpdate,save:t.transformSave}}):t._e()],1),t.dataOk?t._e():a("DataEntry",{on:{data:t.dataReady}}),t.dataOk?a("div",[a("div",{attrs:{id:"previous-data"}},[a("DataView",{attrs:{header:"Current",data:t.dataBox.beforeData}})],1),""!==t.transformValue.trim()&&t.validationResult&&t.validationResult.ok?a("div",{attrs:{id:"preview-data"}},[a("DataView",{attrs:{header:"Preview",data:t.dataBox.afterData}})],1):t._e(),a("div",{class:{ok:""===t.transformValue.trim()||!t.validationResult||t.validationResult.ok,unknown:!t.validationResult||t.validationResult.unknownCommand},attrs:{id:"validation-result"}},[t._v("\n        "+t._s(!t.validationResult||t.validationResult.ok?"Ok":t.validationResult.text)+"\n    ")]),a("div",{staticStyle:{display:"none"},attrs:{id:"command-help"}},[a("table",[t._m(0),t._l(t.commands,function(e){return a("tr",{key:e.command.prefix},[a("td",[t._v("\n            "+t._s(e.command.prefix)+"\n          ")]),a("td",[t._v("\n            "+t._s(e.command.arguments)+"\n          ")]),a("td",[t._v("\n            "+t._s(e.command.text)+"\n          ")]),a("td",[t._v("\n            "+t._s(e.command.applicable.join(", "))+"\n          ")])])})],2)])]):t._e()],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("Command")]),a("th",[t._v("Arguments")]),a("th",[t._v("Description")]),a("th",[t._v("Applicable")])])}],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"get-data"},[a("div",{staticClass:"container"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("textarea",{attrs:{placeholder:"Paste some data here!",autofocus:""},on:{paste:t.dataPasted}})]),a("div",{staticClass:"column"},[t._v("\n        - or -\n      ")]),a("div",{staticClass:"column"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.typedData,expression:"typedData"}],attrs:{placeholder:"Type some data here!"},domProps:{value:t.typedData},on:{input:function(e){e.target.composing||(t.typedData=e.target.value)}}}),a("button",{staticClass:"button is-primary",on:{click:function(e){t.processData()}}},[t._v("Process")])])])])])},u=[],f={name:"DataEntry",data:function(){return{typedData:""}},methods:{dataPasted:function(t){this.$emit("data",t.clipboardData.getData("text"))},processData:function(){this.$emit("data",this.typedData)}}},c=f,p=(a("36c0"),a("2877")),h=Object(p["a"])(c,l,u,!1,null,"365d850f",null);h.options.__file="DataEntry.vue";var m=h.exports,d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.transform,expression:"transform"}],attrs:{type:"text",autofocus:"",placeholder:"Enter transform command"},domProps:{value:t.transform},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.saveTransform(e):null},input:function(e){e.target.composing||(t.transform=e.target.value)}}})])},v=[],g={name:"TransformEntry",props:["validationResult"],data:function(){return{transform:""}},methods:{saveTransform:function(){this.validationResult.ok&&(this.$emit("save",this.transform),this.transform="")}},watch:{transform:function(){this.$emit("update",this.transform)}}},b=g,x=(a("3e05"),Object(p["a"])(b,d,v,!1,null,"1cb5cfe0",null));x.options.__file="TransformEntry.vue";var w=x.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"data-view"},[a("tr",{staticClass:"header"},[a("th"),a("th",{attrs:{colspan:"99999"}},[t._v(t._s(t.header))])]),a("tr",t._l(1+t.localData.columns,function(e){return a("th",{key:e},[t._v(t._s(e>1?e-1:""))])})),t._l(t.localData.rows,function(e,r){return a("tr",{key:r},[a("th",{staticClass:"vertical"},[t._v(t._s(r+1))]),t._l(e,function(e,r){return a("td",{key:r},[a("pre",[t._v(t._s(e))])])})],2)})],2)])},D=[],k={name:"DataView",props:["data","header"],data:function(){return{localData:this.data}}},_=k,O=(a("21ad"),Object(p["a"])(_,y,D,!1,null,"3248a728",null));O.options.__file="DataView.vue";var j=O.exports,R=(a("f559"),a("d4ec")),E=a("bee2"),C=(a("a481"),a("4917"),a("28a5"),a("3b2b"),function(){function t(){Object(R["a"])(this,t)}return Object(E["a"])(t,[{key:"info",value:function(){return[{prefix:"keep lines",arguments:"<Regex>",applicable:["text"],text:"Keep lines that match the regex."},{prefix:"drop lines",arguments:"<Regex>",applicable:["text"],text:"Drop lines that match the regex."}]}},{key:"validate",value:function(t,e){if("text"!==t.beforeData.type)return{text:"Command only works on text.",ok:!1};try{var a=e.substring("keep lines".length,e.length).trim();if(0===a.length)return{text:"Regex is empty.",ok:!1};a=new RegExp(a,"i")}catch(r){return{text:"Error while parsing regex: '"+r.message+"'",ok:!1}}return{text:"",ok:!0}}},{key:"transform",value:function(t,e){var a=e.substring("keep lines".length,e.length).trim();if(0!==a.length){a=new RegExp(a,"i");for(var r=[],n=0;n<t.beforeData.rows.length;n++){for(var o=[],s=0;s<t.beforeData.rows[n].length;s++){for(var i=t.beforeData.rows[n][s].split("\n"),l=[],u=0;u<i.length;u++)e.startsWith("keep")?i[u].match(a)&&l.push(i[u].replace("\r","")):e.startsWith("drop")&&(i[u].match(a)||l.push(i[u].replace("\r","")));o.push(l.join("\n"))}r.push(o)}t.afterData.rows.splice(0,t.afterData.rows.length);for(var f=0;f<r.length;f++)t.afterData.rows.push(r[f])}}}]),t}()),S=function(){function t(){Object(R["a"])(this,t)}return Object(E["a"])(t,[{key:"info",value:function(){return{prefix:"trim",arguments:"<optional left | right | both>",applicable:["text"],text:"Removes whitespace from the left, right or both sides. Both is default."}}},{key:"validate",value:function(t,e){if("text"!==t.beforeData.type)return{text:"Command only works on text.",ok:!1};var a=e.substring("trim".length,e.length).trim();return a.length>0&&"left"!==a&&"right"!==a&&"both"!==a?{text:"Argument must be 'left', 'right' or 'both'.",ok:!1}:{text:"",ok:!0}}},{key:"transform",value:function(t,e){for(var a=e.substring("trim".length,e.length).trim(),r=[],n=0;n<t.beforeData.rows.length;n++){for(var o=[],s=0;s<t.beforeData.rows[n].length;s++){for(var i=t.beforeData.rows[n][s].split("\n"),l=[],u=0;u<i.length;u++)"both"===a||0===a.length?l.push(i[u].trim()):"left"===a?l.push(i[u].trimStart()):"right"===a&&l.push(i[u].trimEnd());o.push(l.join("\n"))}r.push(o)}t.afterData.rows.splice(0,t.afterData.rows.length);for(var f=0;f<r.length;f++)t.afterData.rows.push(r[f])}}]),t}(),P=function(){function t(){Object(R["a"])(this,t)}return Object(E["a"])(t,[{key:"info",value:function(){return{prefix:"replace",arguments:"<Regex> <optional Replacement>",applicable:["text"],text:"Replace all characters matching regex with replacement."}}},{key:"validate",value:function(t,e){if("text"!==t.beforeData.type)return{text:"Command only works on text.",ok:!1};try{var a=e.substring("replace".length,e.length).trim();if(a.indexOf(" ")>0){var r=a.split(" ",2);a=r[0]}if(0===a.length)return{text:"Regex is empty.",ok:!1};a=new RegExp(a,"i")}catch(n){return{text:"Error while parsing regex: '"+n.message+"'",ok:!1}}return{text:"",ok:!0}}},{key:"transform",value:function(t,e){var a=e.substring("replace".length,e.length).trim(),r="";if(a.indexOf(" ")>0){var n=a.split(" ",2);a=n[0],r=n[1]}a=new RegExp(a,"g");for(var o=[],s=0;s<t.beforeData.rows.length;s++){for(var i=[],l=0;l<t.beforeData.rows[s].length;l++)i.push(t.beforeData.rows[s][l].replace(a,r));o.push(i)}t.afterData.rows.splice(0,t.afterData.rows.length);for(var u=0;u<o.length;u++)t.afterData.rows.push(o[u])}}]),t}(),I=function(){function t(){Object(R["a"])(this,t)}return Object(E["a"])(t,[{key:"info",value:function(){return{prefix:"parse json",arguments:"",applicable:["text"],text:"Parses each cell as JSON and converts the datatype to JSON allowing JSON-commands."}}},{key:"validate",value:function(t){if("text"!==t.beforeData.type)return{text:"Command only works on text.",ok:!1};var e=0,a=0;try{for(e=0;e<t.beforeData.rows.length;e++)for(a=0;a<t.beforeData.rows[e].length;a++)t.beforeData.rows[e][a]&&t.beforeData.rows[e][a].length>0&&JSON.stringify(JSON.parse(t.beforeData.rows[e][a]))}catch(r){return{text:"Error on row "+(e+1)+" and column "+(a+1)+": "+r.message,ok:!1}}return{text:"",ok:!0}}},{key:"transform",value:function(t){for(var e=[],a=0;a<t.beforeData.rows.length;a++){for(var r=[],n=0;n<t.beforeData.rows[a].length;n++)t.beforeData.rows[a][n]&&t.beforeData.rows[a][n].length>0?r.push(JSON.stringify(JSON.parse(t.beforeData.rows[a][n]),null,2)):r.push('""');e.push(r)}t.afterData.type="json",t.afterData.rows.splice(0,t.afterData.rows.length);for(var o=0;o<e.length;o++)t.afterData.rows.push(e[o])}}]),t}(),T=function(){function t(){Object(R["a"])(this,t)}return Object(E["a"])(t,[{key:"info",value:function(){return{prefix:"split column",arguments:"<Regex> <optional Column #>",applicable:["text"],text:"Split each column into columns where the regex matches. If <Column #> is set only that column is split."}}},{key:"validate",value:function(t,e){if("text"!==t.beforeData.type)return{text:"Command only works on text.",ok:!1};var a="1";try{var r=e.substring("split column".length,e.length).trim();if(r.indexOf(" ")>0){var n=r.split(" ",2);r=n[0],a=n[1].trim()}if(0===r.length)return{text:"Regex is empty.",ok:!1};r=new RegExp(r,"i")}catch(o){return{text:"Error while parsing regex: '"+o.message+"'",ok:!1}}try{if(a=parseInt(a),t.beforeData.columns<a)throw new Error("Index larger than number of columns")}catch(o){return{text:"Error while parsing column index: '"+o.message+"'",ok:!1}}return{text:"",ok:!0}}},{key:"transform",value:function(t,e){var a=e.substring("split column".length,e.length).trim(),r="1";if(a.indexOf(" ")>0){var n=a.split(" ",2);a=n[0],r=n[1].trim()}r=parseInt(r),a=new RegExp(a,"g");for(var o=[],s=0,i=0;i<t.beforeData.rows.length;i++){for(var l=[],u=0;u<t.beforeData.rows[i].length;u++)if(u===r-1)for(var f=t.beforeData.rows[i][u].split(a),c=0;c<f.length;c++)(0!==u&&u!==t.beforeData.rows[i].length-1||""!==f[c].trim())&&l.push(f[c]);else l.push(t.beforeData.rows[i][u]);s=Math.max(l.length,s),o.push(l)}t.afterData.rows.splice(0,t.afterData.rows.length);for(var p=0;p<o.length;p++){if(o[p].length<s)for(var h=o[p].length;h<s;h++)o[p].push("");t.afterData.rows.push(o[p])}t.afterData.columns=s}}]),t}(),N=function(){function t(){Object(R["a"])(this,t)}return Object(E["a"])(t,[{key:"info",value:function(){return{prefix:"join column",arguments:"<Join String> <optional Column #> .. <optional Column #>",applicable:["text"],text:"Merge columns with <Join String>. Optionally select which columns to merge, otherwise all columns are merged."}}},{key:"validate",value:function(t,e){if("text"!==t.beforeData.type)return{text:"Command only works on text.",ok:!1};var a=[];try{var r=e.substring("join column".length,e.length).trim();if(r.indexOf(" ")>0){var n=r.split(" ");r=n[0].trim();for(var o=1;o<n.length;o++)a.push(n[o])}if(0===r.length)return{text:"Joint string is empty.",ok:!1}}catch(l){return{text:"Error while parsing joinString: '"+l.message+"'",ok:!1}}try{for(var s=0;s<a.length;s++){var i=parseInt(a[s])-1;if(t.beforeData.columns<=i)throw new Error("Index larger than number of columns")}}catch(l){return{text:"Error while parsing column index: '"+l.message+"'",ok:!1}}return{text:"",ok:!0}}},{key:"transform",value:function(t,e){var a=e.substring("join column".length,e.length).trim(),r=[],n={};if(a.indexOf(" ")>0){var o=a.split(" ");a=o[0].trim();for(var s=1;s<o.length;s++)n[parseInt(o[s])-1]=!0,r.push(parseInt(o[s])-1)}a=a.replace("\\n","\n").replace("\\r","\r").replace("\\t","\t");for(var i=[],l=0,u=0;u<t.beforeData.rows.length;u++){for(var f=[],c=[],p=-1,h=0;h<t.beforeData.rows[u].length;h++)0===r.length||n[h]?(c.push(t.beforeData.rows[u][h]),-1===p&&(p=h)):f.push(t.beforeData.rows[u][h]);p>=0&&f.splice(p,0,c.join(a)),l=Math.max(f.length,l),i.push(f)}t.afterData.rows.splice(0,t.afterData.rows.length);for(var m=0;m<i.length;m++){if(i[m].length<l)for(var d=i[m].length;d<l;d++)i[m].push("");t.afterData.rows.push(i[m])}t.afterData.columns=l}}]),t}(),J=function(){function t(){Object(R["a"])(this,t)}return Object(E["a"])(t,[{key:"info",value:function(){return{prefix:"substring",arguments:"<Num chars left> <optional Num chars right>",applicable:["text"],text:"Remove N characters starting from the left, and M number of characters from the right."}}},{key:"validate",value:function(t,e){if("text"!==t.beforeData.type)return{text:"Command only works on text.",ok:!1};try{var a=e.substring("substring".length,e.length).trim(),r=0,n=0;if(a.indexOf(" ")>0){var o=a.split(" ");r=parseInt(o[0]),o.length>1&&(n=parseInt(o[1]))}else a.length>0&&(r=parseInt(a));if(0===a.length)return{text:"No arguments.",ok:!1};if(r<0||n<0)return{text:"Argument cannot be less than 0.",ok:!1}}catch(s){return{text:"Error while parsing arguments: '"+s.message+"'",ok:!1}}return{text:"",ok:!0}}},{key:"transform",value:function(t,e){var a=e.substring("substring".length,e.length).trim(),r=0,n=0;if(a.indexOf(" ")>0){var o=a.split(" ");r=parseInt(o[0]),o.length>1&&(n=parseInt(o[1]))}else a.length>0&&(r=parseInt(a));for(var s=[],i=0;i<t.beforeData.rows.length;i++){for(var l=[],u=0;u<t.beforeData.rows[i].length;u++){var f=t.beforeData.rows[i][u];r>0&&r<=f.length&&(f=f.substring(r,f.length)),n>0&&n<=f.length&&(f=f.substring(0,f.length-n)),l.push(f)}s.push(l)}t.afterData.rows.splice(0,t.afterData.rows.length);for(var c=0;c<s.length;c++)t.afterData.rows.push(s[c])}}]),t}(),$=function(){function t(){Object(R["a"])(this,t)}return Object(E["a"])(t,[{key:"info",value:function(){return{prefix:"copy",arguments:"",applicable:["text","json"],text:"Copy to clipboard."}}},{key:"validate",value:function(){return navigator.clipboard?{text:"",ok:!0}:{text:"Browser does not support Clipboard API",ok:!1}}},{key:"transform",value:function(t,e,a){if(!a){for(var r=[],n=0;n<t.beforeData.rows.length;n++)r.push(t.beforeData.rows[n].join("\t"));navigator.clipboard.writeText(r.join("\n")).then(function(){console.log("Async: Copying to clipboard was successful!")},function(t){console.error("Async: Could not copy text: ",t)})}}}]),t}(),A=function(){function t(){Object(R["a"])(this,t)}return Object(E["a"])(t,[{key:"createInitialData",value:function(t){return{sourceData:this.sourceData,beforeData:{type:"text",columns:1,rows:[[t]]},afterData:{type:"text",columns:1,rows:[[t]]},transforms:[""]}}},{key:"validateTransformOp",value:function(t,e){for(var a=this.commands,r=0;r<a.length;r++)if(e.startsWith(a[r].command.prefix))return a[r].transform.validate(t,e);return{text:"'"+e+"' does not match any known command.",ok:!1,unknownCommand:!0}}},{key:"transform",value:function(t,e,a){for(var r=this.commands,n=0;n<r.length;n++)e.startsWith(r[n].command.prefix)&&r[n].transform.validate(t,e).ok&&r[n].transform.transform(t,e,a)}},{key:"preview",value:function(t,e){this.transform(t,e,!0)}},{key:"append",value:function(t,e){this.transform(t,e),t.beforeData.rows.splice(0,t.beforeData.rows.length);for(var a=0;a<t.afterData.rows.length;a++)t.beforeData.rows.push(t.afterData.rows[a]);t.transforms.push(e),t.beforeData.columns=t.afterData.columns,t.beforeData.type=t.afterData.type,this.transform(t,"")}},{key:"transforms",get:function(){return[new $,new C,new S,new P,new J,new I,new T,new N]}},{key:"commands",get:function(){for(var t=[],e=this.transforms,a=0;a<e.length;a++)if(e[a].info)for(var r=Array.isArray(e[a].info())?e[a].info():[e[a].info()],n=0;n<r.length;n++)t.push({command:r[n],transform:e[a]});return t}}]),t}(),B=new A,V={name:"ProcessData",components:{TransformEntry:w,DataView:j,DataEntry:m},data:function(){return{sourceData:"",dataOk:!1,transformValue:"",validationResult:{ok:!1,unknownCommand:!0,text:"Ready"},commands:B.commands}},computed:{dataBox:function(){return B.createInitialData(this.sourceData)}},methods:{dataReady:function(t){this.sourceData=t,this.dataOk=!0},transformUpdate:function(t){this.transformValue=t,this.validationResult=B.validateTransformOp(this.dataBox,t),B.validateTransformOp(this.dataBox,t).ok&&B.preview(this.dataBox,t)},transformSave:function(t){this.transformValue=t,B.validateTransformOp(this.dataBox,t).ok&&B.append(this.dataBox,t)}}},M=V,W=(a("0c15"),Object(p["a"])(M,s,i,!1,null,"4a067e54",null));W.options.__file="ProcessData.vue";var U=W.exports,K={name:"app",components:{ProcessData:U},data:function(){return{}},methods:{}},q=K,z=(a("034f"),Object(p["a"])(q,n,o,!1,null,null,null));z.options.__file="App.vue";var F=z.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(F)}}).$mount("#app")},"5bb9":function(t,e,a){},"64a9":function(t,e,a){},"9c80":function(t,e,a){}});
//# sourceMappingURL=app.ac3e4240.js.map